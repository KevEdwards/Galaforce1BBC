\\
\\ Galaforce 1 ( BBC Micro ) from the original 6502 source code, adapted to assemble using beebasm
\\
\\ (c) Kevin Edwards 1986-2019
\\
\\ Twitter @KevEdwardsRetro
\\

\\ REM SAVE":2.DOWN"
\\ MODE7:HIMEM=&4000

osbyte=&FFF4
HIMEM		= &4000
downaddr	= HIMEM

\\ REM  These may change !!
hstxt		= &64D
hsnum		= &69D
 
\\ FORpass=0TO2STEP2:P%=HIMEM
\\ B%=P%
\\ [OPT pass

ORG downaddr

\ download routine
 
.download
 LDA#&8C:JSRosbyte
 LDA#4:LDX#1:JSRosbyte
 LDX#&9F:LDA#0
.killzp
 STA0,X
 DEX:BNEkillzp
 STA0
.dowfont
 LDA#0
 STA&400,X
 STA&500,X
 STA&600,X
 LDA&1900,X:STA&700,X
 INX:BNEdowfont
 LDY#&27
.download2
 LDA&1A00,X:STA&A00,X
 INX:BNEdownload2
 INCdownload2+2
 INCdownload2+5
 DEY:BNEdownload2
 
 LDY#8*7-1
.coph2
 LDAhighval,Y:STAhsnum,Y
 DEY:BPLcoph2
 LDY#8*10-1
.coph3
 LDAhighname,Y:STAhstxt,Y
 DEY:BPLcoph3
 
 LDX#&F:LDA#0
.killsroms
 STA&2A1,X:DEX:BPLkillsroms
 
 JMP &BEF:\        MAY CHANGE!!
 
.highval
 EQUB0:EQUB0:EQUB3:EQUB0:EQUB0:EQUB0:EQUB0
 EQUB0:EQUB0:EQUB2:EQUB5:EQUB0:EQUB0:EQUB0
 EQUB0:EQUB0:EQUB2:EQUB0:EQUB0:EQUB0:EQUB0
 EQUB0:EQUB0:EQUB1:EQUB5:EQUB0:EQUB0:EQUB0
 EQUB0:EQUB0:EQUB1:EQUB0:EQUB0:EQUB0:EQUB0
 EQUB0:EQUB0:EQUB0:EQUB5:EQUB0:EQUB0:EQUB0
 EQUB0:EQUB0:EQUB0:EQUB3:EQUB0:EQUB0:EQUB0
 EQUB0:EQUB0:EQUB0:EQUB1:EQUB0:EQUB0:EQUB0
 
.highname
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 EQUB28:EQUB30:EQUB25:EQUB14:EQUB27:EQUB18:EQUB24:EQUB27:EQUB38:EQUB38
 
\\ ]NEXT
\\ PRINT"Down       from &";~B%;" to &";~P%-1;" (";P%-B%;")"
